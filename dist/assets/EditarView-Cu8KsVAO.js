import{r as b,o as g,u as x,b as i,d,e as t,f as a,w as e,v as n,s as y,h as m,k as p,a as V,m as I}from"./index-NxZYwLOD.js";import{a as v}from"./alertify-DPht8m50.js";const w={class:"container mt-5"},N={key:0,class:"card border-0 shadow-sm"},U={class:"card-body"},k={class:"text-primary fw-bold mb-4 d-flex"},D={class:"row g-3"},S={class:"col-md-6"},A={class:"list-unstyled mb-0"},C={class:"col-md-6"},M={class:"list-unstyled mb-0"},L={class:"d-flex align-items-center"},R={class:"d-flex gap-5 justify-content-center align-items-center"},B={key:1,class:"text-center mt-5"},J={__name:"EditarView",setup(E){const c=x(),f=I(),l=b(null);g(()=>{const r=JSON.parse(localStorage.getItem("ListaProductos")||"[]");l.value=r.find(o=>o.ID===c.params.id)});const P=()=>{const r=JSON.parse(localStorage.getItem("ListaProductos")||"[]"),o=r.findIndex(u=>u.ID===l.value.ID);o!==-1?(r[o]=l.value,localStorage.setItem("ListaProductos",JSON.stringify(r)),v.success("✅ Cambios guardados correctamente"),f.push("/Productos")):v.error("❌ No se pudo guardar el producto")};return(r,o)=>{const u=V("RouterLink");return d(),i("div",w,[l.value?(d(),i("div",N,[t("div",U,[o[21]||(o[21]=t("h1",{class:"text-center text-primary fw-bold mb-4"}," 🛠️ Edición de producto ",-1)),t("h3",k,[o[9]||(o[9]=a(" 🧪 ",-1)),e(t("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>l.value.NombreProducto=s),class:"form-control"},null,512),[[n,l.value.NombreProducto]])]),t("div",D,[t("div",S,[t("ul",A,[t("li",null,[o[10]||(o[10]=t("strong",null,"📦 Presentación:",-1)),e(t("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=s=>l.value.Presentacion=s),class:"form-control"},null,512),[[n,l.value.Presentacion]])]),t("li",null,[o[11]||(o[11]=t("strong",null,"🧬 Principio Activo:",-1)),e(t("input",{type:"text","onUpdate:modelValue":o[2]||(o[2]=s=>l.value.PrincipioActivo=s),class:"form-control"},null,512),[[n,l.value.PrincipioActivo]])]),t("li",null,[o[12]||(o[12]=t("strong",null,"🏷️ Marca:",-1)),e(t("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=s=>l.value.Marca=s),class:"form-control"},null,512),[[n,l.value.Marca]])]),t("li",null,[o[14]||(o[14]=t("strong",null,"🧾 IVA:",-1)),e(t("select",{"onUpdate:modelValue":o[4]||(o[4]=s=>l.value.IVA=s),class:"form-control"},[...o[13]||(o[13]=[t("option",{value:0},"No aplica",-1),t("option",{value:15},"15%",-1)])],512),[[y,l.value.IVA]])])])]),t("div",C,[t("ul",M,[t("li",null,[o[15]||(o[15]=t("strong",null,"💊 Precio Farmacia:",-1)),e(t("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=s=>l.value.PrecioFarmacia=s),class:"form-control"},null,512),[[n,l.value.PrecioFarmacia]])]),t("li",null,[o[16]||(o[16]=t("strong",null,"💰 PVP:",-1)),e(t("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=s=>l.value.PVP=s),class:"form-control"},null,512),[[n,l.value.PVP]])]),t("li",null,[o[17]||(o[17]=t("strong",null,"🎁 Promoción:",-1)),e(t("input",{type:"text","onUpdate:modelValue":o[7]||(o[7]=s=>l.value.Promocion=s),class:"form-control"},null,512),[[n,l.value.Promocion]])]),t("li",null,[o[19]||(o[19]=t("strong",null,"🔻 Descuento:",-1)),t("div",L,[e(t("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=s=>l.value.Descuento=s),class:"form-control",style:{width:"100px"}},null,512),[[n,l.value.Descuento]]),o[18]||(o[18]=a(" % ",-1))])])])])]),o[22]||(o[22]=t("hr",{class:"my-4"},null,-1)),t("div",R,[m(u,{class:"btn btn-danger px-2 sm",style:{color:"white"},to:"/producto/"+l.value.ID},{default:p(()=>[...o[20]||(o[20]=[a(" ❌ Cancelar ",-1)])]),_:1},8,["to"]),t("button",{class:"btn btn-success px-2 sm",onClick:P}," 💾 Guardar ")])])])):(d(),i("div",B,[o[24]||(o[24]=t("h4",{class:"text-danger"},"❌ Producto no encontrado",-1)),m(u,{class:"btn btn-secondary mt-3",to:"/Productos"},{default:p(()=>[...o[23]||(o[23]=[a(" 🔙 Volver al listado ",-1)])]),_:1})]))])}}};export{J as default};
