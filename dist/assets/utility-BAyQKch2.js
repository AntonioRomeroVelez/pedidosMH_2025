const g=(t,l)=>{if(!l||!l.includes("+"))return{promo:0,total:t,detalle:[],combinacion:[]};const i=l.split(/[, ]+/).map(o=>o.trim()).filter(Boolean).map(o=>{const[e,n]=o.split("+").map(Number);return{base:e,extra:n,promo:o}}).filter(({base:o,extra:e})=>!isNaN(o)&&!isNaN(e)&&o>0);let r={promo:0,total:t,detalle:[],combinacion:[]};function m(o,e,n,a){if(e>=i.length||o<=0){a>r.promo&&(r={promo:a,total:t+a,detalle:[...n]});return}const{base:c,extra:p,promo:b}=i[e],N=Math.floor(o/c);for(let s=N;s>=0;s--){const u=[...n],f=s*p,v=o-s*c;s>0&&u.push({promo:b,veces:s,unidadesPromo:f,unidadesPagadas:s*c}),m(v,e+1,u,a+f)}}return m(t,0,[],0),console.log("mejor:",r),r};export{g as c};
