import{r as m,o as b,u as g,b as i,d,e as o,f as a,w as e,v as n,p as y,g as p,j as v,a as V,l as I}from"./index-Cp7gKhuS.js";import{a as c}from"./alertify-DPht8m50.js";const w={class:"container mt-5"},N={key:0,class:"card border-0 shadow-sm"},U={class:"card-body"},D={class:"text-primary fw-bold mb-4 d-flex"},k={class:"row g-3"},S={class:"col-md-6"},A={class:"list-unstyled mb-0"},C={class:"col-md-6"},M={class:"list-unstyled mb-0"},L={class:"d-flex align-items-center"},R={class:"d-flex gap-5 justify-content-center align-items-center"},B={class:"text-center mt-4"},E={key:1,class:"text-center mt-5"},O={__name:"EditarView",setup(F){const f=g(),P=I(),l=m(null);m(""),b(()=>{const r=JSON.parse(localStorage.getItem("ListaProductos")||"[]");l.value=r.find(t=>t.ID===f.params.id)});const x=()=>{const r=JSON.parse(localStorage.getItem("ListaProductos")||"[]"),t=r.findIndex(u=>u.ID===l.value.ID);t!==-1?(r[t]=l.value,localStorage.setItem("ListaProductos",JSON.stringify(r)),c.success("✅ Cambios guardados correctamente"),P.push("/Productos")):c.error("❌ No se pudo guardar el producto")};return(r,t)=>{const u=V("RouterLink");return d(),i("div",w,[l.value?(d(),i("div",N,[o("div",U,[t[21]||(t[21]=o("h1",{class:"text-center text-primary fw-bold mb-4"}," 🛠️ Edición de producto ",-1)),o("h3",D,[t[9]||(t[9]=a(" 🧪 ",-1)),e(o("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>l.value.NombreProducto=s),class:"form-control"},null,512),[[n,l.value.NombreProducto]])]),o("div",k,[o("div",S,[o("ul",A,[o("li",null,[t[10]||(t[10]=o("strong",null,"📦 Presentación:",-1)),e(o("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>l.value.Presentacion=s),class:"form-control"},null,512),[[n,l.value.Presentacion]])]),o("li",null,[t[11]||(t[11]=o("strong",null,"🧬 Principio Activo:",-1)),e(o("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=s=>l.value.PrincipioActivo=s),class:"form-control"},null,512),[[n,l.value.PrincipioActivo]])]),o("li",null,[t[12]||(t[12]=o("strong",null,"🏷️ Marca:",-1)),e(o("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>l.value.Marca=s),class:"form-control"},null,512),[[n,l.value.Marca]])]),o("li",null,[t[14]||(t[14]=o("strong",null,"🧾 IVA:",-1)),e(o("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.IVA=s),class:"form-control"},[...t[13]||(t[13]=[o("option",{value:0},"No aplica",-1),o("option",{value:15},"15%",-1)])],512),[[y,l.value.IVA]])])])]),o("div",C,[o("ul",M,[o("li",null,[t[15]||(t[15]=o("strong",null,"💊 Precio Farmacia:",-1)),e(o("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=s=>l.value.PrecioFarmacia=s),class:"form-control"},null,512),[[n,l.value.PrecioFarmacia]])]),o("li",null,[t[16]||(t[16]=o("strong",null,"💰 PVP:",-1)),e(o("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=s=>l.value.PVP=s),class:"form-control"},null,512),[[n,l.value.PVP]])]),o("li",null,[t[17]||(t[17]=o("strong",null,"🎁 Promoción:",-1)),e(o("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=s=>l.value.Promocion=s),class:"form-control"},null,512),[[n,l.value.Promocion]])]),o("li",null,[t[19]||(t[19]=o("strong",null,"🔻 Descuento:",-1)),o("div",L,[e(o("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=s=>l.value.Descuento=s),class:"form-control",style:{width:"100px"}},null,512),[[n,l.value.Descuento]]),t[18]||(t[18]=a(" % ",-1))])])])])]),t[22]||(t[22]=o("hr",{class:"my-4"},null,-1)),o("div",R,[o("div",B,[p(u,{class:"btn btn-danger px-5",style:{color:"white"},to:"/producto/"+l.value.ID},{default:v(()=>[...t[20]||(t[20]=[a(" ❌ Cancelar edición ",-1)])]),_:1},8,["to"])]),o("div",{class:"text-center mt-4"},[o("button",{class:"btn btn-success px-5",onClick:x}," 💾 Guardar cambios ")])])])])):(d(),i("div",E,[t[24]||(t[24]=o("h4",{class:"text-danger"},"❌ Producto no encontrado",-1)),p(u,{class:"btn btn-secondary mt-3",to:"/Productos"},{default:v(()=>[...t[23]||(t[23]=[a(" 🔙 Volver al listado ",-1)])]),_:1})]))])}}};export{O as default};
