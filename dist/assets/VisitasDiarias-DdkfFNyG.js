import{_ as w,m as h,r as d,o as V,B as k,b as l,d as n,e as a,i as m,w as v,v as g,F as y,h as C,k as S,t as p,p as D}from"./index-NsDpYwkK.js";const B={class:"visitas-container py-4 px-3 px-md-5"},E={class:"formulario shadow-sm p-4 rounded-4 bg-white mb-4"},N={class:"mb-3"},T={class:"mb-3"},$={key:0,class:"d-flex flex-column flex-md-row gap-3 mb-4"},j={key:1,class:"listado-visitas shadow-sm p-3 rounded-4 bg-white"},I={class:"list-group"},L={class:"texto-visita mb-2 mb-md-0"},F=["onClick"],J={__name:"VisitasDiarias",setup(O){const i=h(),r=d(""),c=d(""),s=d([]);V(()=>{const o=localStorage.getItem("visitas_diarias");o&&(s.value=JSON.parse(o))}),k(s,o=>{localStorage.setItem("visitas_diarias",JSON.stringify(o))},{deep:!0});function b(){if(!r.value.trim()){i.error("Por favor, ingresa el lugar de visita.");return}s.value.push({lugar:r.value.trim(),observacion:c.value.trim()||"Sin observaciones"}),i.success("Visita agregada correctamente."),r.value="",c.value=""}function f(o){s.value.splice(o,1),i.info("Visita eliminada.")}const x=()=>{if(!s.value.length){i.info("No hay visitas para borrar.");return}D.confirm("ðŸ§¹ Borrar todas las visitas",`Se eliminarÃ¡n ${s.value.length} visitas registradas. Esta acciÃ³n no se puede deshacer.`,()=>{s.value=[],localStorage.removeItem("visitas_diarias"),i.success("âœ… Todas las visitas fueron eliminadas correctamente.")},()=>{i.info("âŒ Cancelado")}).set({labels:{ok:"SÃ­, borrar",cancel:"Cancelar"},transition:"zoom",movable:!1,closable:!1,padding:!0})};function _(){const e=[`${new Date().toLocaleDateString("es-EC",{day:"2-digit",month:"long",year:"numeric"})}`,"",...s.value.map(t=>`${t.lugar.toLowerCase()}: ${t.observacion}.`)].join(`
`);navigator.clipboard.writeText(e).then(()=>{i.success("Reporte copiado al portapapeles.")})}return(o,e)=>(n(),l("div",B,[e[5]||(e[5]=a("h2",{class:"titulo text-center mb-4"},"ðŸ—“ï¸ Registro de Visitas Diarias",-1)),a("div",E,[a("div",N,[e[2]||(e[2]=a("label",{class:"form-label fw-semibold"},"Lugar de visita",-1)),v(a("textarea",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),class:"form-control campo-texto",rows:"1",placeholder:"Ej. Farmacia San JosÃ©"},null,512),[[g,r.value]])]),a("div",T,[e[3]||(e[3]=a("label",{class:"form-label fw-semibold"},"ObservaciÃ³n",-1)),v(a("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>c.value=t),class:"form-control campo-texto",rows:"2",placeholder:"Ej. RealizÃ³ un pedido grande o no se encontraba el encargado"},null,512),[[g,c.value]])]),a("button",{class:"btn-agregar w-100",onClick:b}," âž• Agregar visita ")]),s.value.length?(n(),l("div",$,[a("button",{class:"btn-accion copiar w-100",onClick:_}," ðŸ“‹ Copiar reporte "),a("button",{class:"btn-accion borrar w-100",onClick:x}," ðŸ—‘ï¸ Borrar todo ")])):m("",!0),s.value.length?(n(),l("div",j,[e[4]||(e[4]=a("h5",{class:"fw-bold mb-3 text-secondary"},"ðŸ“‹ Visitas registradas",-1)),a("ul",I,[(n(!0),l(y,null,C(s.value,(t,u)=>(n(),l("li",{key:u,class:"list-group-item d-flex justify-content-between align-items-start flex-column flex-md-row"},[a("div",L,[a("strong",null,p(t.lugar),1),S(": "+p(t.observacion),1)]),a("button",{class:"btn-eliminar",onClick:R=>f(u)}," âœ– Eliminar ",8,F)]))),128))])])):m("",!0)]))}},M=w(J,[["__scopeId","data-v-80dec641"]]);export{M as default};
